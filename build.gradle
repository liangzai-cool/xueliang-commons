/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.1-rc-2/userguide/java_library_plugin.html
 */

// Apply the java-library plugin to add support for Java Library
apply plugin: 'java-library'
apply plugin: 'idea'
apply plugin: 'maven-publish'
apply plugin: 'maven'

repositories {
  mavenLocal()
  maven { url 'http://repo1.xueliang.org/repository/maven-public/' }
  maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
  mavenCentral()
  jcenter()
}

ext {
    group = 'org.xueliang'
    version = '0.0.1-SNAPSHOT'
}

group = "${ext.group}"
version = "${ext.version}"

sourceCompatibility = 1.8
targetCompatibility = 1.8

sourceSets {
    test.compileClasspath += configurations.compile
    test.runtimeClasspath += configurations.compile
}

tasks.withType(JavaCompile) {  
  options.encoding = "UTF-8"
}

dependencies {
    def log4jVersion = "2.7"
    def jooqVersion = "3.11.2"
    def mysqlConnectorVersion = "5.1.42"  // 5.1.13及以下版本，无法使用utf8mb4
    def springVersion = '4.3.9.RELEASE'

    compile "com.aliyun:aliyun-java-sdk-core:4.1.2"
    compile "com.aliyun:aliyun-java-sdk-dysmsapi:1.1.0"
    compile "com.aliyun:aliyun-java-sdk-afs:1.0.0"

    compile "javax.mail:mail:1.5.0-b01"

    compile "org.apache.logging.log4j:log4j-api:$log4jVersion"
    compile "org.apache.logging.log4j:log4j-core:$log4jVersion"
    compile "org.apache.logging.log4j:log4j-slf4j-impl:2.9.1"
  
    compile "org.apache.poi:poi:3.13"
    compile "org.apache.poi:poi-ooxml:3.13"
//  compile "org.apache.poi:poi-ooxml-schemas:3.13"

    compile "com.github.qcloudsms:qcloudsms:1.0.5"
    compile "commons-io:commons-io:2.6"

//  compile "com.googlecode.libphonenumber:libphonenumber:8.8.4"
//  compile "com.googlecode.libphonenumber:carrier:1.9"
//  compile "com.googlecode.libphonenumber:prefixmapper:2.81"
//  compile "com.googlecode.libphonenumber:geocoder:2.9"

    compile "com.googlecode.libphonenumber:libphonenumber:8.4.0"
    compile "com.googlecode.libphonenumber:carrier:1.9"
    compile "com.googlecode.libphonenumber:prefixmapper:2.67"
    compile "com.googlecode.libphonenumber:geocoder:2.9"
  
    compile "org.jooq:jooq:$jooqVersion"
    compile "org.jooq:jooq-meta:$jooqVersion"
    compile "org.jooq:jooq-codegen:$jooqVersion"
  
    compile "org.jsoup:jsoup:1.11.2"
  
    compile "org.apache.commons:commons-lang3:3.5"
  
    compile "com.zaxxer:HikariCP:2.7.4"

    compile "com.google.guava:guava:21.0"
    compile "org.json:json:20160810"
    compile "com.fasterxml.jackson.core:jackson-databind:2.9.0.pr1"
    compile "org.apache.commons:commons-lang3:3.5"
    compile "org.apache.httpcomponents:httpclient:4.5.3"
    compile "org.bouncycastle:bcprov-jdk16:1.46"
    compile "javax.servlet:javax.servlet-api:3.1.0"
    compile "mysql:mysql-connector-java:$mysqlConnectorVersion"
  
    compile "org.springframework:spring-web:$springVersion"
    compile "org.springframework:spring-webmvc:$springVersion"
  
//  testImplementation 'junit:junit:4.12'
    testCompile 'junit:junit:4.12'
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            groupId group
            artifactId "${rootProject.name}"
            version version

            from components.java
            // more goes in here
        }
    }

    repositories {
        mavenLocal()
    }
}
